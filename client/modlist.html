<head>
<title>Minecraft Mod List</title>
</head>

<body>{{> page}}</body>

<template name="page">
    {{#if showLoginWarningDialog}}
        {{> loginWanringDialog}}
    {{/if}}
    {{#if showCreateDialog}}
        {{> createDialog}}
    {{/if}}

    {{> topnav}}

    <div class="container">
        <div style="float: right">{{loginButtons align="right"}}</div>

        <h1>Minecraft Mod List</h1>
        {{> modsTable}}
        <button class="add btn btn-large btn-primary {{#unless currentUser}}disabled{{/unless}}" type="button">Add Mod</button>
    </div>
</template>
<template name="topnav">
    <div class=" navbar navbar-static-top navbar-inverse" id="menuTop">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse" href="">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </a>
                <a class="brand" href="#" title="Bootrstrap Magic written in AngularJS">Minecraft Mod List</a>
                    <ul class="nav">
                        <li><a href="#" title="bootstrap themes generator presentation">List</a></li>
                        <li class="divider-vertical"></li>
                        <li><a href="#" title="bootstrap themes generator">Contact</a></li>
                        <li class="divider-vertical"></li>
                    </ul>
            </div>
        </div>
    </div>
</template>
<template name="modsTable">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Supports</th>
                <th>Author</th>
                <th>Availability</th>
                <th>Forge Compatibility</th>
                <th>Updated</th>
            </tr>
        </thead>
        <tbody>
            {{#each mods}}
                {{> modRow}}
            {{/each}}
        </tbody>
    </table>
</template>

<template name="modRow">
    <tr>
        <td>{{title}} - {{version}}</td>
        <td>
            {{supports}}
        </td>
        <td>{{author}}</td>
        <td>
            {{#each availability}}
                {{> badge}}
            {{/each}}
        </td>
        <td>{{forge_icon forge}}</td>
        <td>
            {{time_since updated}}
            {{#if isOwner}}
                <div class="btn-group pull-right">
                    <button class="btn btn-small btn-info edit" type="button">Edit</button>
                    <button class="btn btn-small btn-danger delete" type="button">Delete</button>
                </div>
            {{/if}}
        </td>
    </tr>
</template>

<template name="badge">
    <span class="label label-{{cssify this}}">{{this}}</span>
</template>

<template name="loginWanringDialog">
    <div class="mask"></div>
    <div class="modal">
        <div class="modal-header">
            <button type="button" class="close cancel">&times;</button>
            <h3>Login Required</h3>
        </div>

        <div class="modal-body">
        <p>Please login to add a mod to the list. You can create an account with us, or use your Facebook, Twitter, or Github profile.
        </div>

        <div class="modal-footer">
            <a href="#" class="btn btn-primary okay">Okay</a>
        </div>
    </div>
</template>

<template name="createDialog">
    <div class="mask"></div>
    <div class="modal">
        <div class="modal-header">
            <button type="button" class="close cancel">&times;</button>
            <h3>Add mod</h3>
        </div>

        <div class="modal-body form-horizontal">

            {{#if error}}
            <div class="alert alert-error">{{error}}</div>
            {{/if}}

            <div class="control-group">
                <label class="control-label" for="inputTitle">Title</label>
                <div class="controls">
                    <input type="text" id="inputTitle" name="title" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputVersion">Version</label>
                <div class="controls">
                    <input type="text" id="inputVersion" name="version" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputAuthor">Author</label>
                <div class="controls">
                    <input type="text" id="inputAuthor" name="author" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputSupports">Supports</label>
                <div class="controls">
                    <select type="text" id="inputSupports" name="supports">
                        <option>1.5.2</option>
                        <option>1.5.1</option>
                        <option>1.5.0</option>
                        <option>1.4.6/1.4.7</option>
                        <option>1.4.4/1.4.5</option>
                        <option>1.4.2</option>
                    </select>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputForge">Forge Compatibility</label>
                <div class="controls">
                    <select id="inputForge" name="forge">
                        <option value="yes">Forge Compatible</option>
                        <option value="required">Forge Required</option>
                        <option value="no">Not Forge Compatible</option>
                    </select>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputAvailability">Availability</label>
                <div class="controls">
                    <select id="inputAvailability" name="availability" multiple>
                        <option value="clientside">Clientside</option>
                        <option value="ssp">SSP</option>
                        <option value="lan">LAN</option>
                        <option value="smp">SMP</option>
                        <option value="na">N/A</option>
                    </select>
                </div>
            </div>

             <textarea type="text" id="inputDescription" name="description" placeholder="Description"></textarea>
        </div>

        <div class="modal-footer">
            <a href="#" class="btn cancel">Cancel</a>
            <a href="#" class="btn btn-primary save">Add mod</a>
        </div>
    </div>
</template>
