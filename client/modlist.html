<head>
<title>Minecraft Mod List</title>
</head>

<body>{{> page}}</body>

<template name="page">
    {{#if showLoginWarningDialog}}
        {{> loginWanringDialog}}
    {{/if}}
    {{#if showCreateDialog}}
        {{> createDialog}}
    {{/if}}

    <div class="container">
        <div style="float: right">{{loginButtons align="right"}}</div>

        <h1>Minecraft Mod List</h1>
        {{> modsTable}}
        <button class="add btn btn-large btn-primary {{#unless currentUser}}disabled{{/unless}}" type="button">Add Mod</button>
    </div>
</template>

<template name="modsTable">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Supports</th>
                <th>Author</th>
                <th>Compatibility</th>
                <th>Updated</th>
            </tr>
        </thead>
        <tbody>
            {{#each mods}}
                {{> modRow}}
            {{/each}}
        </tbody>
    </table>
</template>

<template name="modRow">
    <tr>
        <td>{{title}} - {{version}}</td>
        <td>
            {{supports}}
        </td>
        <td>{{author}}</td>
        <td>
            {{#each compatibility}}
                {{> badge}}
            {{/each}}
        </td>
        <td>
            {{time_since updated}}
            {{#if isOwner}}
                <button class="btn btn-small btn-danger delete" type="button">Delete</button>
            {{/if}}
        </td>
    </tr>
</template>

<template name="badge">
    <span class="label label-{{cssify this}}">{{this}}</span>
</template>

<template name="loginWanringDialog">
    <div class="mask"></div>
    <div class="modal">
        <div class="modal-header">
            <button type="button" class="close cancel">&times;</button>
            <h3>Login Required</h3>
        </div>

        <div class="modal-body">
        <p>Please login to add a mod to the list. You can create an account with us, or use your Facebook, Twitter, or Github profile.
        </div>

        <div class="modal-footer">
            <a href="#" class="btn btn-primary okay">Okay</a>
        </div>
    </div>
</template>

<template name="createDialog">
    <div class="mask"></div>
    <div class="modal">
        <div class="modal-header">
            <button type="button" class="close cancel">&times;</button>
            <h3>Add mod</h3>
        </div>

        <div class="modal-body form-horizontal">

            {{#if error}}
            <div class="alert alert-error">{{error}}</div>
            {{/if}}

            <div class="control-group">
                <label class="control-label" for="inputTitle">Title</label>
                <div class="controls">
                    <input type="text" id="inputTitle" name="title" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputVersion">Version</label>
                <div class="controls">
                    <input type="text" id="inputVersion" name="version" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputAuthor">Author</label>
                <div class="controls">
                    <input type="text" id="inputAuthor" name="author" placeholder="">
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputSupports">Supports</label>
                <div class="controls">
                    <select type="text" id="inputSupports" name="supports">
                        <option>1.5.1</option>
                    </select>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="inputCompatibility">Compatibility</label>
                <div class="controls">
                    <select id="inputCompatibility" name="compatibility" multiple>
                        <option value="forge">Forge</option>
                        <option value="universal">Universal</option>
                    </select>
                </div>
            </div>

             <textarea type="text" id="inputDescription" name="description" placeholder="Description"></textarea>
        </div>

        <div class="modal-footer">
            <a href="#" class="btn cancel">Cancel</a>
            <a href="#" class="btn btn-primary save">Add mod</a>
        </div>
    </div>
</template>
